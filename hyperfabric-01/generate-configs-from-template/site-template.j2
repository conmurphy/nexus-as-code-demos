---
hyperfabric:
  fabrics:
    - name: {{ site_name }}-{{ site_number }}
      nodes:
        - name: {{ site_name }}-{{ site_number }}-leaf01
          model: HF6100-60L4D
          ports:
            - name: Ethernet1_1
              roles: ["HOST_PORT"] 
        - name: {{ site_name }}-{{ site_number }}-leaf02
          model: HF6100-60L4D
        - name: {{ site_name }}-{{ site_number }}-leaf03
          model: HF6100-60L4D
        - name: {{ site_name }}-{{ site_number }}-leaf04
          model: HF6100-60L4D
      connections: 
        - {local_node: {{ site_name }}-{{ site_number }}-leaf01, local_port: Ethernet1_31, remote_node: {{ site_name }}-{{ site_number }}-leaf02, remote_port: Ethernet1_31}
        - {local_node: {{ site_name }}-{{ site_number }}-leaf01, local_port: Ethernet1_32, remote_node: {{ site_name }}-{{ site_number }}-leaf03, remote_port: Ethernet1_31}
        - {local_node: {{ site_name }}-{{ site_number }}-leaf01, local_port: Ethernet1_33, remote_node: {{ site_name }}-{{ site_number }}-leaf04, remote_port: Ethernet1_31}
        - {local_node: {{ site_name }}-{{ site_number }}-leaf02, local_port: Ethernet1_32, remote_node: {{ site_name }}-{{ site_number }}-leaf03, remote_port: Ethernet1_32}
        - {local_node: {{ site_name }}-{{ site_number }}-leaf02, local_port: Ethernet1_33, remote_node: {{ site_name }}-{{ site_number }}-leaf04, remote_port: Ethernet1_32}
        - {local_node: {{ site_name }}-{{ site_number }}-leaf03, local_port: Ethernet1_33, remote_node: {{ site_name }}-{{ site_number }}-leaf04, remote_port: Ethernet1_33}
      vrfs:
        - name: Vrf-production
      vnis: 
        - name: 192.168.10.0_24
          vrf: Vrf-production
          svi:
            ipv4_addresses: ["192.168.10.254/24"]
            enabled: true
          members:
            - nodes: 
                - node_id: {{ site_name }}-{{ site_number }}-leaf01
                - node_id: {{ site_name }}-{{ site_number }}-leaf02
              port_name: Ethernet1_1
              vlan_id: 10
        - name: 192.168.20.0_24
          vrf: Vrf-production
          svi:
            ipv4_addresses: ["192.168.20.254/24"]
            enabled: true
          members:
            - nodes: 
                - node_id: {{ site_name }}-{{ site_number }}-leaf01
                - node_id: {{ site_name }}-{{ site_number }}-leaf02
              port_name: Ethernet1_1
              vlan_id: 20
        - name: 192.168.30.0_24
          vrf: Vrf-production
          svi:
            ipv4_addresses: ["192.168.30.254/24"]
            enabled: true
          members:
            - nodes: 
                - node_id: {{ site_name }}-{{ site_number }}-leaf01
                - node_id: {{ site_name }}-{{ site_number }}-leaf02
              port_name: Ethernet1_1
              vlan_id: 30